<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clube do Jogo | Perfil</title>
    <link rel="stylesheet" href="style.css">
</head>
<body data-page="profile">
    <nav class="navbar">
        <a href="/" class="brand">
            <img class="brand-logo" src="/uploads/site-logo-min.png" alt="Logo Clube do Jogo">
        </a>
        <div class="nav-links">
            <a href="/">Início</a>
            
            <a href="/profile.html">Perfil</a>
            <a id="adminNavLink" class="hidden" href="/admin.html">Administrador</a>
            <button id="logoutBtn" class="btn btn-outline" type="button">Sair</button>
        </div>
    </nav>

    <main class="container">
        <section class="card">
            <h1 id="profileTitle">Perfil do Jogador</h1>
            <div class="profile-head">
                <div class="profile-avatar-side">
                    <button id="avatarSelectBtn" class="avatar-upload-trigger" type="button" aria-label="Enviar imagem de perfil">
                        <img id="avatarPreview" class="avatar-large" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Crect width='120' height='120' rx='16' fill='%23101933'/%3E%3Ccircle cx='60' cy='46' r='22' fill='%2339d2ff'/%3E%3Crect x='25' y='77' width='70' height='28' rx='14' fill='%234f79ff'/%3E%3C/svg%3E" alt="Avatar do perfil">
                        <span class="avatar-upload-overlay" aria-hidden="true">
                            <span class="avatar-upload-icon">&#8679;</span>
                        </span>
                    </button>
                    <input id="avatarInput" name="avatar" type="file" accept="image/*" hidden>
                    <p id="profileNicknameDisplay" class="profile-nickname">Jogador</p>
                </div>

                <form id="profileForm" class="profile-info-form">
                    <div class="profile-info-row">
                        <div class="profile-field">
                            <label>Nome de usuário (não editável)</label>
                            <input name="username" type="text" readonly>
                        </div>
                        <div class="profile-field">
                            <label id="emailFieldLabel">Email (não editável)</label>
                            <input name="email" type="text" readonly>
                        </div>
                        <div id="nicknameFieldWrap" class="profile-field profile-field-nickname hidden">
                            <label for="nicknameInput">Nickname</label>
                            <div class="nickname-check-row">
                                <input id="nicknameInput" name="nickname" type="text" maxlength="30" placeholder="Seu nickname">
                                <button id="checkNicknameBtn" class="btn btn-outline" type="button" aria-label="Verificar disponibilidade" title="Verificar disponibilidade" disabled>Verificar disponibilidade</button>
                            </div>
                            <p id="nicknameCheckFeedback" class="feedback"></p>
                        </div>
                    </div>
                </form>
            </div>
            <div class="profile-save-wrap">
                <button id="profileSaveBtn" class="btn profile-save-btn" type="submit" form="profileForm">Salvar perfil</button>
            </div>
            <p id="feedback" class="feedback"></p>
        </section>

        <section id="profilePsnSection" class="card">
            <h2>Conquistas da PSN</h2>
            <p id="psnSummaryText" class="psn-summary-text">Conecte sua PSN para exibir troféus no perfil.</p>
            <div class="inline-actions">
                <button id="psnLinkBtn" class="btn btn-psn hidden" type="button">Vincular PSN</button>
                <button id="psnUnlinkBtn" class="btn btn-outline hidden" type="button">Desvincular PSN</button>
                <p id="psnFeedback" class="feedback"></p>
            </div>
            <div id="psnLinkSteps" class="psn-link-steps hidden">
                <p id="psnLinkStepsTitle" class="psn-link-steps-title">Passo a passo para vincular PSN:</p>
                <ol id="psnLinkStepsListLink" class="psn-link-steps-list">
                    <li>Logue com sua conta PSN nesse navegador.</li>
                    <li>
                        Acesse o link
                        <a class="psn-link-step-link" href="https://ca.account.sony.com/api/v1/ssocookie" target="_blank" rel="noopener noreferrer">https://ca.account.sony.com/api/v1/ssocookie</a>.
                    </li>
                    <li>Com o link aberto, copie o conteúdo e clique no botão Vincular PSN.</li>
                </ol>
                <ol id="psnLinkStepsListSync" class="psn-link-steps-list hidden">
                    <li>
                        Acesse o link
                        <a class="psn-link-step-link" href="https://ca.account.sony.com/api/v1/ssocookie" target="_blank" rel="noopener noreferrer">https://ca.account.sony.com/api/v1/ssocookie</a>.
                    </li>
                    <li>Com link aberto, copie o conteúdo e clique no botão Vincular PSN.</li>
                </ol>
</div>
            <button
                id="psnSyncStepsHideBtn"
                class="psn-sync-steps-hide hidden"
                type="button"
                aria-label="Esconder tutorial de sincronização"
                title="Esconder tutorial"
            >
                ⌃
            </button>
            <p class="psn-help-text">
                Ao vincular, o sistema sincroniza automaticamente seus troféus da PSN e exibe para todos no perfil.
                Siga os passos indicados para vincular.
            </p>
            <div id="psnProfileHead" class="psn-profile-head hidden"></div>
            <div id="psnTitlesGrid" class="psn-titles-grid"></div>
            <div id="psnTitlesPagination" class="psn-pagination hidden" aria-label="Paginação de jogos PSN">
                <button id="psnTitlesPrevBtn" class="btn btn-outline" type="button">Anterior</button>
                <span id="psnTitlesPageLabel" class="psn-pagination-label">Página 1 de 1</span>
                <button id="psnTitlesNextBtn" class="btn btn-outline" type="button">Próxima</button>
            </div>
        </section>
        <div id="psnTitleDetailsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="psnTitleDetailsName">
            <div class="modal-card psn-title-details-modal-card">
                <button
                    id="psnTitleDetailsCloseIconBtn"
                    class="psn-modal-close-icon"
                    type="button"
                    aria-label="Fechar detalhes do jogo"
                    title="Fechar"
                >
                    X
                </button>
                <div class="row-between psn-title-details-head">
                    <div class="psn-title-details-head-main">
                        <img id="psnTitleDetailsIcon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Jogo PSN">
                        <div>
                            <h3 id="psnTitleDetailsName">Detalhes do jogo</h3>
                            <p id="psnTitleDetailsMeta" class="psn-title-details-meta"></p>
                        </div>
                    </div>
                    <button id="psnTitleDetailsCloseBtn" class="btn btn-quiet" type="button">Fechar</button>
                </div>
                <div id="psnTitleDetailsBody" class="psn-title-details-body"></div>
            </div>
        </div>
        <div id="psnTierDetailsModal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="psnTierDetailsTitle">
            <div class="modal-card psn-tier-details-modal-card">
                <button
                    id="psnTierDetailsCloseIconBtn"
                    class="psn-modal-close-icon"
                    type="button"
                    aria-label="Fechar detalhes de troféus"
                    title="Fechar"
                >
                    X
                </button>
                <div class="row-between psn-tier-details-head">
                    <h3 id="psnTierDetailsTitle">Troféus por categoria</h3>
                    <button id="psnTierDetailsCloseBtn" class="btn btn-quiet" type="button">Fechar</button>
                </div>
                <div class="psn-tier-details-hero">
                    <img id="psnTierDetailsHeroIcon" class="psn-tier-hero-icon" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Categoria de troféu PSN">
                    <p id="psnTierDetailsHeroLabel" class="psn-tier-hero-label">Categoria</p>
                    <p id="psnTierDetailsHeroMeta" class="psn-tier-hero-meta"></p>
                </div>
                <div id="psnTierDetailsBody" class="psn-tier-details-body"></div>
                <div id="psnTierDetailsPagination" class="psn-pagination hidden" aria-label="Paginação de troféus por categoria">
                    <button id="psnTierDetailsPrevBtn" class="btn btn-outline" type="button">Anterior</button>
                    <span id="psnTierDetailsPageLabel" class="psn-pagination-label">Página 1 de 1</span>
                    <button id="psnTierDetailsNextBtn" class="btn btn-outline" type="button">Próxima</button>
                </div>
            </div>
        </div>

        <section id="profileAchievementsSection" class="card">
            <h2>Conquistas</h2>
            <p id="achievementsProgress" class="achievement-progress"></p>
            <div id="achievementsGrid" class="achievements-grid">
                <article class="achievement-item locked" data-achievement-key="CGFerro">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGBronze">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGPrata">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGOuro">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGDiamante">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGMaster">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGAcao">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGAventura">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGDrama">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGNarrativo">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGRPG">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGPlataforma">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGCorrida">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGMundoAberto">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGTiro">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGTerror">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGSouls">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGAwards">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGOld">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
                <article class="achievement-item locked" data-achievement-key="CGNewba">
                    <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Troféu bloqueado">
                    <strong></strong>
                    <span class="achievement-description"></span>
                </article>
            </div>
        </section>

        <section class="card">
            <h2>Senha</h2>
            <p>Para trocar a senha, enviaremos um link de confirmação para o email da sua conta.</p>
            <button id="sendResetFromProfile" class="btn" type="button">Enviar link de troca de senha</button>
        </section>

        <section id="profileActivitySection" class="card">
            <h2>Atividades no Clube do Jogo</h2>
            <div class="panel-grid">
                <article class="card">
                    <h3>Indicações Feitas</h3>
                    <div id="profileGivenList" class="recommendation-grid"></div>
                </article>
                <article class="card">
                    <h3>Indicações Recebidas</h3>
                    <div id="profileReceivedList" class="recommendation-grid"></div>
                </article>
            </div>
        </section>

        <section id="profileCommentsSection" class="card">
            <h2>Comentários no Perfil</h2>
            <div id="profileCommentsList" class="comment-list"></div>
            <div id="profileCommentContext" class="comment-context hidden"></div>
            <form id="profileCommentForm" class="comment-form">
                <input type="hidden" name="parentCommentId">
                <input type="text" name="commentText" maxlength="500" placeholder="Escreva um comentário neste perfil">
                <button class="btn btn-outline" type="submit">Comentar</button>
            </form>
            <p id="profileCommentFeedback" class="feedback"></p>
        </section>

    </main>
    <footer class="site-footer">
        <div class="site-footer-inner">
            <a href="https://github.com/Gabriel-Micael" target="_blank" rel="noopener noreferrer">GitHub</a>
            <a href="https://www.instagram.com/gabriel.micael/" target="_blank" rel="noopener noreferrer">Instagram</a>
            <a href="https://wa.me/5535997569858" target="_blank" rel="noopener noreferrer">WhatsApp</a>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>






